function l(h){const{data:a}=h.getImageData(0,0,h.canvas.width,h.canvas.height),{width:n,height:i}=h.canvas;let c=[];for(let t=0;t<i;t++)for(let e=0;e<n;e++)c[e]||(c[e]=[]),c[e][t]=Math.floor((a[t*n*4+e*4]+a[t*n*4+e*4+1]+a[t*n*4+e*4+2])/3);return c}function f(h,a={}){const{crop:n=!0,size:i}=a;return new Promise(c=>{const t=new window.Image;t.onload=function(){const o=a.canvas||document.createElement("canvas"),g=o.getContext("2d");let s=1;i&&(s=i/Math.max(t.width,t.height)),a.maxSize&&(t.width>a.maxSize||t.height>a.maxSize)&&(s=a.maxSize/Math.max(t.width,t.height));const d=Math.floor(t.width*s),m=Math.floor(t.height*s);if(n){o.width=i,o.height=i;const r=Math.min(t.width,t.height);g.drawImage(t,(t.width-r)/2,(t.height-r)/2,r,r,0,0,i,i)}else o.width=d,o.height=m,g.drawImage(t,0,0,d,m);const w=g.getImageData(0,0,g.canvas.width,g.canvas.height);w.ctx=g,c(w)},t.src=h})}export{l as c,f as i};
